<!-- staffpainel.html -->
<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel da Staff - Core Studios</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="bg-gray-900 text-white min-h-screen">
  <header class="bg-gray-950 shadow p-4 flex justify-between items-center">
    <div class="text-xl font-bold">Painel da Staff</div>
    <a href="index.html" class="bg-red-600 px-4 py-2 rounded hover:bg-red-700">Sair</a>
  </header>

  <main class="max-w-6xl mx-auto py-10 px-4">
    <h1 class="text-3xl font-bold mb-6">Bem-vindo ao Painel Administrativo</h1>

    <section class="grid md:grid-cols-2 gap-6">
      <!-- Pagamentos Recentes -->
      <div class="bg-gray-800 rounded-xl p-6 shadow">
        <h2 class="text-xl font-semibold mb-2">ðŸ“¦ Pagamentos Recentes</h2>
        <ul id="listaPagamentos" class="text-sm text-gray-300 space-y-2"></ul>
      </div>

      <!-- Tickets Abertos -->
      <div class="bg-gray-800 rounded-xl p-6 shadow">
        <h2 class="text-xl font-semibold mb-2">ðŸŽ« Tickets Abertos</h2>
        <ul id="listaTickets" class="text-sm text-gray-300 space-y-2"></ul>
      </div>

      <!-- GrÃ¡fico de Pagamentos -->
      <div class="bg-gray-800 rounded-xl p-6 shadow col-span-2">
        <h2 class="text-xl font-semibold mb-4">ðŸ“ˆ GrÃ¡fico de Pagamentos por Dia</h2>
        <canvas id="graficoPagamentos"></canvas>
      </div>

      <!-- Logs de AÃ§Ãµes -->
      <div class="bg-gray-800 rounded-xl p-6 shadow col-span-2">
        <h2 class="text-xl font-semibold mb-2">ðŸ“‹ Logs de AÃ§Ãµes da Staff</h2>
        <ul id="logsStaff" class="text-sm text-gray-300 space-y-1"></ul>
      </div>
    </section>
  </main>

  <script>
    // Simula os dados do painel
    const pagamentos = [
      { nome: "@lucas", plano: "Pro", valor: "R$ 9,99", data: "Hoje" },
      { nome: "@ana", plano: "BÃ¡sico", valor: "R$ 4,99", data: "Ontem" },
      { nome: "@gustavo", plano: "Premium", valor: "R$ 19,90", data: "HÃ¡ 3 dias" }
    ];

    const tickets = [
      { usuario: "@victor", motivo: "DÃºvida sobre plano" },
      { usuario: "@fernanda", motivo: "Bot nÃ£o responde" }
    ];

    const logs = [
      "[09:22] @lucas editou plano Pro",
      "[09:10] @ana visualizou relatÃ³rio de tickets",
      "[08:55] @gustavo enviou aviso para equipe"
    ];

    const dias = ["Seg", "Ter", "Qua", "Qui", "Sex", "SÃ¡b", "Dom"];
    const valores = [2, 4, 6, 5, 7, 3, 1];

    // Exibe pagamentos
    const listaPagamentos = document.getElementById("listaPagamentos");
    pagamentos.forEach(p => {
      listaPagamentos.innerHTML += `<li>ðŸ’° ${p.nome} comprou o plano <strong>${p.plano}</strong> por ${p.valor} - ${p.data}</li>`;
    });

    // Exibe tickets
    const listaTickets = document.getElementById("listaTickets");
    tickets.forEach(t => {
      listaTickets.innerHTML += `<li>ðŸ“¨ ${t.usuario} - ${t.motivo}</li>`;
    });

    // Exibe logs
    const logsStaff = document.getElementById("logsStaff");
    logs.forEach(log => {
      logsStaff.innerHTML += `<li>ðŸ•’ ${log}</li>`;
    });

    // GrÃ¡fico de pagamentos
    new Chart(document.getElementById("graficoPagamentos"), {
      type: "line",
      data: {
        labels: dias,
        datasets: [{
          label: "Pagamentos por dia",
          data: valores,
          borderColor: "#8b5cf6",
          backgroundColor: "#8b5cf680",
          fill: true,
          tension: 0.3
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true
          }
        }
      }
    });

    // Verifica acesso
    const acesso = localStorage.getItem('staff_acesso');
    if (acesso !== 'liberado') {
      window.location.href = 'login-staff.html';
    }

    function logout() {
      localStorage.removeItem('staff_acesso');
      window.location.href = 'login-staff.html';
    }
  </script>
</body>

</html>
